# التحكم في جودة الصورة

يمكن تحسين مكونات نموذج الانتشار، مثل UNet وscheduler، لتحسين جودة الصور المولدة مما يؤدي إلى تفاصيل أفضل. وتعد هذه التقنيات مفيدة بشكل خاص إذا لم تكن تملك الموارد الكافية لاستخدام نموذج أكبر للتنبؤ. يمكنك تمكين هذه التقنيات أثناء التنبؤ بدون أي تدريب إضافي.

سيوضح هذا الدليل كيفية تشغيل هذه التقنيات في خط أنابيبك وكيفية تكوينها لتحسين جودة الصور المولدة.

## التفاصيل

[FreeU](https://hf.co/papers/2309.11497) يحسن تفاصيل الصورة عن طريق إعادة موازنة أوزان العمود الفقري واتصالات القفز في UNet. يمكن لاتصالات القفز أن تجعل النموذج يتجاهل بعض الدلالات الأساسية، مما قد يؤدي إلى تفاصيل غير طبيعية في الصورة المولدة. لا تتطلب هذه التقنية أي تدريب إضافي ويمكن تطبيقها أثناء التنبؤ للمهام مثل الصورة إلى الصورة والنص إلى الفيديو.

استخدم طريقة [`~pipelines.StableDiffusionMixin.enable_freeu`] على خط أنابيبك وقم بتكوين عوامل المقياس للعمود الفقري (`b1` و`b2`) واتصالات القفز (`s1` و`s2`). الرقم الذي يتبع كل عامل مقياس يتوافق مع المرحلة في UNet حيث يتم تطبيق العامل. الق نظرة على مستودع [FreeU](https://github.com/ChenyangSi/FreeU#parameters) لمعرفة فرط المعلمات المرجعية لمختلف النماذج.

قم بالاستدعاء [`pipelines.StableDiffusionMixin.disable_freeu`] لتعطيل FreeU.

```py
pipeline.disable_freeu()
```