# Stable Diffusion XL

ูุนุฏ Stable Diffusion XL (SDXL) ูููุฐุฌูุง ููููุง ูุชูููุฏ ุงูุตูุฑ ุงููุตูุฉ ุงูุฐู ูุทูุฑ ุงูููุงุฐุฌ ุงูุณุงุจูุฉ ูุทุฑููุฉ ุงููุดุฑ ุงููุณุชูุฑ ูู ุซูุงุซ ุทุฑู ุฑุฆูุณูุฉ:

1. ุงูุดุจูุฉ U ุฃูุจุฑ ุจุซูุงุซ ูุฑุงุชุ ููุฌูุน SDXL ุจูู ูุดูุฑ ูุต ุซุงูู (OpenCLIP ViT-bigG/14) ูุน ูุดูุฑ ุงููุต ุงูุฃุตูู ูุฒูุงุฏุฉ ูุจูุฑุฉ ูู ุนุฏุฏ ุงููุนููุงุช.
2. ููุฏู ุงูุชูููู ุจุงูุญุฌู ูุงููุญุงุตูู ููุญูุงุธ ุนูู ุจูุงูุงุช ุงูุชุฏุฑูุจ ูู ุฃู ูุชู ุงูุชุฎูุต ูููุง ูุงูุญุตูู ุนูู ูุฒูุฏ ูู ุงูุชุญูู ูู ููููุฉ ุงูุชุตุงุต ุงูุตูุฑุฉ ุงููููุฏุฉ.
3. ููุฏู ุนูููุฉ ูููุฐุฌ ูู ูุฑุญูุชููุ ููุดุฆ ูููุฐุฌ "base" ุงูุฃุณุงุณู (ูููู ุฃูุถูุง ุชุดุบููู ููููุฐุฌ ูุณุชูู) ุตูุฑุฉ ูุฅุฏุฎุงู ููููุฐุฌ "refiner" ุงูุฐู ูุถูู ุชูุงุตูู ุนุงููุฉ ุงูุฌูุฏุฉ.

ุณููุถุญ ูุฐุง ุงูุฏููู ููููุฉ ุงุณุชุฎุฏุงู SDXL ูููุต ุฅูู ุงูุตูุฑุฉ ูุงูุตูุฑุฉ ุฅูู ุงูุตูุฑุฉ ูุงูุทูุงุก.

ูุจู ุงูุจุฏุกุ ุชุฃูุฏ ูู ุชุซุจูุช ุงูููุชุจุงุช ุงูุชุงููุฉ:

<Tip warning={true}>
ููุตู ุจุชุซุจูุช ููุชุจุฉ [invisible-watermark](https://pypi.org/project/invisible-watermark/) ูููุณุงุนุฏุฉ ูู ุชุญุฏูุฏ ุงูุตูุฑ ุงูุชู ุชู ุฅูุดุงุคูุง. ุฅุฐุง ุชู ุชุซุจูุช ููุชุจุฉ invisible-watermarkุ ูุณูุชู ุงุณุชุฎุฏุงููุง ุจุดูู ุงูุชุฑุงุถู. ูุฅููุงู ุชุดุบูู ุฃุฏุงุฉ ูุถุน ุงูุนูุงูุงุช ุงููุงุฆูุฉ:

</Tip>

## ุชุญููู ููุงุท ุชูุชูุด ุงููููุฐุฌ

ูุฏ ูุชู ุชุฎุฒูู ุฃูุฒุงู ุงููููุฐุฌ ูู ูุฌูุฏุงุช ูุฑุนูุฉ ูููุตูุฉ ุนูู Hub ุฃู ูุญูููุงุ ููู ูุฐู ุงูุญุงูุฉุ ูุฌุจ ุงุณุชุฎุฏุงู ุทุฑููุฉ [`~StableDiffusionXLPipeline.from_pretrained`].

ููููู ุฃูุถูุง ุงุณุชุฎุฏุงู ุทุฑููุฉ [`~StableDiffusionXLPipeline.from_single_file`] ูุชุญููู ููุทุฉ ุชูุชูุด ุงููููุฐุฌ ุงููุฎุฒูุฉ ุจุชูุณูู ููู ูุงุญุฏ (`.ckpt` ุฃู `.safetensors`) ูู Hub ุฃู ูุญูููุง:

## ูุต ุฅูู ุตูุฑุฉ

ุจุงููุณุจุฉ ูููุต ุฅูู ุงูุตูุฑุฉุ ูู ุจุชูุฑูุฑ ููุฌู ูุตู. ุจุดูู ุงูุชุฑุงุถูุ ูููู SDXL ุจุฅูุดุงุก ุตูุฑุฉ 1024x1024 ููุญุตูู ุนูู ุฃูุถู ุงููุชุงุฆุฌ. ููููู ุชุฌุฑุจุฉ ุชุนููู ูุนููุงุช "ุงูุงุฑุชูุงุน" ู"ุงูุนุฑุถ" ุฅูู 768x768 ุฃู 512x512ุ ูููู ูู ุบูุฑ ุงููุฑุฌุญ ุฃู ูุนูู ุฃู ุดูุก ุฃูู ูู 512x512.

## ุตูุฑุฉ ุฅูู ุตูุฑุฉ

ุจุงููุณุจุฉ ููุตูุฑุฉ ุฅูู ุงูุตูุฑุฉุ ูุนูู SDXL ุจุดูู ุฌูุฏ ุฎุงุตุฉ ูุน ุฃุญุฌุงู ุงูุตูุฑ ุจูู 768x768 ู1024x1024. ูู ุจุชูุฑูุฑ ุตูุฑุฉ ุฃูููุฉุ ูููุฌู ูุตู ูุชูููู ุงูุตูุฑุฉ ูุนู:

## ุงูุทูุงุก

ุจุงููุณุจุฉ ููุทูุงุกุ ุณุชุญุชุงุฌ ุฅูู ุงูุตูุฑุฉ ุงูุฃุตููุฉ ูููุงุน ููุง ุชุฑูุฏ ุงุณุชุจุฏุงูู ูู ุงูุตูุฑุฉ ุงูุฃุตููุฉ. ูู ุจุฅูุดุงุก ููุฌู ููุตู ูุง ุชุฑูุฏ ุงุณุชุจุฏุงู ุงูููุทูุฉ ุงููููุนุฉ ุจู.

## ุชุญุณูู ุฌูุฏุฉ ุงูุตูุฑุฉ

ูุชุถูู SDXL [ูููุฐุฌ ุชุญุณูู](https://huggingface.co/stabilityai/stable-diffusion-xl-refiner-1.0) ูุชุฎุตุต ูู ุฅุฒุงูุฉ ุชุดููุด ุงูุตูุฑ ุฐุงุช ุงููุฑุญูุฉ ููุฎูุถุฉ ุงูุชุดููุด ูุฅูุดุงุก ุตูุฑ ุนุงููุฉ ุงูุฌูุฏุฉ ูู ุงููููุฐุฌ ุงูุฃุณุงุณู. ููุงู ุทุฑููุชุงู ูุงุณุชุฎุฏุงู ุงููุญุณู:

1. ุงุณุชุฎุฏู ุงูููุงุฐุฌ ุงูุฃุณุงุณูุฉ ูุงููุญุณูุฉ ูุนูุง ูุฅูุชุงุฌ ุตูุฑุฉ ูุญุณูุฉ.
2. ุงุณุชุฎุฏู ุงููููุฐุฌ ุงูุฃุณุงุณู ูุฅูุชุงุฌ ุตูุฑุฉุ ุซู ุงุณุชุฎุฏู ูููุฐุฌ ุงูุชุญุณูู ูุงุญููุง ูุฅุถุงูุฉ ุงููุฒูุฏ ูู ุงูุชูุงุตูู ุฅูู ุงูุตูุฑุฉ (ููุฐุง ุชู ุชุฏุฑูุจ SDXL ูู ุงูุฃุตู).
ุจุงูุชุฃููุฏุ ุณุฃููู ุจุชุฑุฌูุฉ ุงููุต ุงูููุฌูุฏ ูู ุงูููุฑุงุช ูุงูุนูุงููู ูุน ูุฑุงุนุงุฉ ุงูุชุนูููุงุช ุงูุชู ูุฏูุชูุง.

### ูููุฐุฌ Base + Refiner
ุนูุฏ ุงุณุชุฎุฏุงู ูููุฐุฌ Base ููููุฐุฌ Refiner ูุนูุง ูุชูููุฏ ุตูุฑุฉุ ููุนุฑู ุฐูู ุจุงุณู "ูุฌููุนุฉ ูู ุฎุจุฑุงุก ุฅุฒุงูุฉ ุงูุชุดููุด". ูุชุทูุจ ููุฌ "ูุฌููุนุฉ ุฎุจุฑุงุก ุฅุฒุงูุฉ ุงูุชุดููุด" ุนุฏุฏูุง ุฃูู ูู ุฎุทูุงุช ุฅุฒุงูุฉ ุงูุชุดููุด ุงูุฅุฌูุงููุฉ ููุงุฑูุฉ ุจุชูุฑูุฑ ุฅุฎุฑุงุฌ ูููุฐุฌ Base ุฅูู ูููุฐุฌ Refinerุ ูุฐูู ูุฌุจ ุฃู ูููู ุฃุณุฑุน ุจูุซูุฑ. ููุน ุฐููุ ูู ุชุชููู ูู ูุญุต ุฅุฎุฑุงุฌ ูููุฐุฌ Base ูุฃูู ูุง ูุฒุงู ูุญุชูู ุนูู ูุฏุฑ ูุจูุฑ ูู ุงูุถูุถุงุก.

ุจุงุนุชุจุงุฑู ูุฌููุนุฉ ูู ุฎุจุฑุงุก ุฅุฒุงูุฉ ุงูุชุดููุดุ ูุนูู ูููุฐุฌ Base ูุฎุจูุฑ ุฎูุงู ูุฑุญูุฉ ุงูุชุดุงุฑ ุงูุชุดููุด ุงูุนุงููุ ุจูููุง ูุนูู ูููุฐุฌ Refiner ูุฎุจูุฑ ุฎูุงู ูุฑุญูุฉ ุงูุชุดุงุฑ ุงูุชุดููุด ุงูููุฎูุถ. ูู ุจุชุญููู ูููุฐุฌ Base ููููุฐุฌ Refiner:

ุจุงููุณุจุฉ ูููุฌ "ูุฌููุนุฉ ุฎุจุฑุงุก ุฅุฒุงูุฉ ุงูุชุดููุด"ุ ุชุญุชุงุฌ ุฅูู ุชุญุฏูุฏ ุนุฏุฏ ุฎุทูุงุช ุงูููุช ููู ูููุฐุฌ ููุนูู ุฎูุงู ูุฑุงุญูู ุงูุฎุงุตุฉ. ุจุงููุณุจุฉ ููููุฐุฌ Baseุ ูุชู ุงูุชุญูู ูู ุฐูู ุจูุงุณุทุฉ ูุนููุฉ "denoising_end"ุ ุฃูุง ุจุงููุณุจุฉ ููููุฐุฌ Refinerุ ููุชู ุงูุชุญูู ูููุง ุจูุงุณุทุฉ ูุนููุฉ "denoising_start".

> ูุฌุจ ุฃู ุชููู ูุนููุงุช "denoising_end" ู"denoising_start" ุนุจุงุฑุฉ ุนู ุฑูู ุนุดุฑู ุจูู 0 ู1. ูุชู ุชูุซูู ูุฐู ุงููุนููุงุช ููุณุจุฉ ูุฆููุฉ ูู ุฎุทูุงุช ุงูููุช ุงููููุตูุฉ ููุง ุญุฏุฏูุง ุงูุฌุฏููุฉ. ุฅุฐุง ููุช ุชุณุชุฎุฏู ุฃูุถูุง ูุนููุฉ "strength"ุ ูุณูุชู ุชุฌุงูููุง ูุฃู ุนุฏุฏ ุฎุทูุงุช ุฅุฒุงูุฉ ุงูุชุดููุด ูุชุญุฏุฏ ุจูุงุณุทุฉ ุฎุทูุงุช ุงูููุช ุงููููุตูุฉ ุงูุชู ุชู ุชุฏุฑูุจ ุงููููุฐุฌ ุนูููุง ููุณุจุฉ ุงููุทุน ุงููุณุฑูุฉ ุงููุนููุฉ.

ุฏุนููุง ูุญุฏุฏ "denoising_end=0.8" ุจุญูุซ ูููู ูููุฐุฌ Base ุจุฃุฏุงุก ุฃูู 80% ูู ุฅุฒุงูุฉ ุงูุชุดููุด ูู ุฎุทูุงุช ุงูููุช ุฐุงุช ุงูุชุดููุด ุงูุนุงููุ ููุญุฏุฏ "denoising_start=0.8" ุจุญูุซ ูููู ูููุฐุฌ Refiner ุจุฃุฏุงุก ุขุฎุฑ 20% ูู ุฅุฒุงูุฉ ุงูุชุดููุด ูู ุฎุทูุงุช ุงูููุช ุฐุงุช ุงูุชุดููุด ุงูููุฎูุถ. ูุฌุจ ุฃู ูููู ุฅุฎุฑุงุฌ ูููุฐุฌ Base ูู ูุณุงุญุฉ "latent" ุจุฏูุงู ูู ุตูุฑุฉ PIL.

ูููู ุฃูุถูุง ุงุณุชุฎุฏุงู ูููุฐุฌ Refiner ููุฑุณู ุจุงุณุชุฎุฏุงู "StableDiffusionXLInpaintPipeline":

### ูู ูููุฐุฌ Base ุฅูู ูููุฐุฌ Refiner
ูุญุตู SDXL ุนูู ุชุนุฒูุฒ ูู ุฌูุฏุฉ ุงูุตูุฑุฉ ูู ุฎูุงู ุงุณุชุฎุฏุงู ูููุฐุฌ Refiner ูุฅุถุงูุฉ ุชูุงุตูู ุนุงููุฉ ุงูุฌูุฏุฉ ุฅูู ุงูุตูุฑุฉ ุงูุฎุงููุฉ ูู ุงูุชุดููุด ุชูุงููุง ูู ูููุฐุฌ Baseุ ูู ุฅุนุฏุงุฏ ุงูุตูุฑุฉ ุฅูู ุงูุตูุฑุฉ.

ูู ุจุชุญููู ูููุฐุฌ Base ููููุฐุฌ Refiner:

ูู ุจุชูููุฏ ุตูุฑุฉ ูู ูููุฐุฌ Baseุ ููู ุจุชุนููู ุฅุฎุฑุงุฌ ุงููููุฐุฌ ุฅูู ูุณุงุญุฉ "latent":

ูู ุจุชูุฑูุฑ ุงูุตูุฑุฉ ุงููููุฏุฉ ุฅูู ูููุฐุฌ Refiner:

ุจุงููุณุจุฉ ููุฑุณูุ ูู ุจุชุญููู ูููุฐุฌ Base ููููุฐุฌ Refiner ูู "StableDiffusionXLInpaintPipeline"ุ ูุฃุฒู ูุนููุงุช "denoising_end" ู"denoising_start"ุ ูุงุฎุชุฑ ุนุฏุฏูุง ุฃูู ูู ุฎุทูุงุช ุงูุงุณุชุฏูุงู ููููุฐุฌ Refiner.

## Micro-conditioning
ุชุชุถูู ุนูููุฉ ุชุฏุฑูุจ SDXL ุนุฏุฉ ุชูููุงุช ุชูููู ุฅุถุงููุฉุ ูุดุงุฑ ุฅูููุง ุจุงุณู "Micro-conditioning". ุชุดูู ูุฐู ุงูุชูููุงุช ุญุฌู ุงูุตูุฑุฉ ุงูุฃุตููุฉุ ูุญุฌู ุงูุตูุฑุฉ ุงููุณุชูุฏูุฉุ ููุนููุงุช ุงูุงูุชุตุงุต. ูููู ุงุณุชุฎุฏุงู ุนูููุงุช ุงูุชูููู ุงูุฏูููุฉ ูู ููุช ุงูุงุณุชุฏูุงู ูุฅูุดุงุก ุตูุฑ ุนุงููุฉ ุงูุฌูุฏุฉ ููุฑูุฒุฉ.

> ููููู ุงุณุชุฎุฏุงู ูู ูู ูุนููุงุช "Micro-conditioning" ู"Negative Micro-conditioning" ุจูุถู ุงูุชูุฌูู ุงูุฎุงูู ูู ุงูุชุตููู. ููู ูุชุงุญุฉ ูู "StableDiffusionXLPipeline"ุ ู"StableDiffusionXLImg2ImgPipeline"ุ ู"StableDiffusionXLInpaintPipeline"ุ ู"StableDiffusionXLControlNetPipeline".

### Size conditioning
ููุงู ููุนุงู ูู ุชูููู ุงูุญุฌู:

- ูุฃุชู ุชูููู "original_size" ูู ุงูุตูุฑ ุงูุชู ุชู ุชุบููุฑ ุญุฌููุง ูู ุฏูุนุฉ ุงูุชุฏุฑูุจ (ูุฃูู ุณูููู ูู ุบูุฑ ุงููุฌุฏู ุชุฌุงูู ุงูุตูุฑ ุงูุฃุตุบุฑ ุงูุชู ุชุดูู ูุง ููุฑุจ ูู 40% ูู ุฅุฌูุงูู ุจูุงูุงุช ุงูุชุฏุฑูุจ). ุจูุฐู ุงูุทุฑููุฉุ ูุชุนูู SDXL ุฃู ุขุซุงุฑ ุชุบููุฑ ุงูุญุฌู ูุง ููุจุบู ุฃู ุชููู ููุฌูุฏุฉ ูู ุงูุตูุฑ ุนุงููุฉ ุงูุฏูุฉ. ุฃุซูุงุก ุงูุงุณุชุฏูุงูุ ููููู ุงุณุชุฎุฏุงู "original_size" ููุฅุดุงุฑุฉ ุฅูู ุฏูุฉ ุงูุตูุฑุฉ ุงูุฃุตููุฉ. ููุชุฌ ุนู ุงุณุชุฎุฏุงู ุงููููุฉ ุงูุงูุชุฑุงุถูุฉ "(1024ุ 1024)" ุตูุฑ ุนุงููุฉ ุงูุฌูุฏุฉ ุชุดุจู ุงูุตูุฑ ุจุญุฌู 1024x1024 ูู ูุฌููุนุฉ ุงูุจูุงูุงุช. ุฅุฐุง ุงุฎุชุฑุช ุงุณุชุฎุฏุงู ุฏูุฉ ุฃููุ ูุซู "(256ุ 256)"ุ ูุณูุธู ุงููููุฐุฌ ููุดุฆ ุตูุฑูุง ุจุญุฌู 1024x1024ุ ูููููุง ุณุชุดุจู ุตูุฑ ุงูุฏูุฉ ุงูููุฎูุถุฉ (ุฃููุงุท ุฃุจุณุทุ ุถุจุงุจูุฉ) ูู ูุฌููุนุฉ ุงูุจูุงูุงุช.

- ูุฃุชู ุชูููู "target_size" ูู ุถุจุท ุฏููู ูู SDXL ูุฏุนู ูุณุจ ุฃุจุนุงุฏ ุงูุตูุฑ ุงููุฎุชููุฉ. ุฃุซูุงุก ุงูุงุณุชุฏูุงูุ ุฅุฐุง ุงุณุชุฎุฏูุช ุงููููุฉ ุงูุงูุชุฑุงุถูุฉ "(1024ุ 1024)"ุ ูุณุชุญุตู ุนูู ุตูุฑุฉ ุชุดุจู ุชูููู ุงูุตูุฑ ุงููุฑุจุนุฉ ูู ูุฌููุนุฉ ุงูุจูุงูุงุช. ููุตู ุจุงุณุชุฎุฏุงู ููุณ ุงููููุฉ ูู "target_size" ู"original_size"ุ ูููู ูุง ุชุชุฑุฏุฏ ูู ุงูุชุฌุฑุจุฉ ุจุฎูุงุฑุงุช ุฃุฎุฑู!

ูุณูุญ ูู ๐ค Diffusers ุฃูุถูุง ุจุชุญุฏูุฏ ุงูุดุฑูุท ุงูุณูุจูุฉ ุญูู ุญุฌู ุงูุตูุฑุฉ ูุชูุฌูู ุงูุชูููุฏ ุจุนูุฏูุง ุนู ุฏูุงุช ุตูุฑุฉ ูุนููุฉ:

### Size conditioning
ููุงู ููุนุงู ูู ุชูููู ุงูุญุฌู:

- ูุฃุชู ุชูููู "original_size" ูู ุงูุตูุฑ ุงูุชู ุชู ุชุบููุฑ ุญุฌููุง ูู ุฏูุนุฉ ุงูุชุฏุฑูุจ (ูุฃูู ุณูููู ูู ุบูุฑ ุงููุฌุฏู ุชุฌุงูู ุงูุตูุฑ ุงูุฃุตุบุฑ ุงูุชู ุชุดูู ูุง ููุฑุจ ูู 40% ูู ุฅุฌูุงูู ุจูุงูุงุช ุงูุชุฏุฑูุจ). ุจูุฐู ุงูุทุฑููุฉุ ูุชุนูู SDXL ุฃู ุขุซุงุฑ ุชุบููุฑ ุงูุญุฌู ูุง ููุจุบู ุฃู ุชููู ููุฌูุฏุฉ ูู ุงูุตูุฑ ุนุงููุฉ ุงูุฏูุฉ. ุฃุซูุงุก ุงูุงุณุชุฏูุงูุ ููููู ุงุณุชุฎุฏุงู "original_size" ููุฅุดุงุฑุฉ ุฅูู ุฏูุฉ ุงูุตูุฑุฉ ุงูุฃุตููุฉ. ููุชุฌ ุนู ุงุณุชุฎุฏุงู ุงููููุฉ ุงูุงูุชุฑุงุถูุฉ "(1024ุ 1024)" ุตูุฑ ุนุงููุฉ ุงูุฌูุฏุฉ ุชุดุจู ุงูุตูุฑ ุจุญุฌู 1024x1024 ูู ูุฌููุนุฉ ุงูุจูุงูุงุช. ุฅุฐุง ุงุฎุชุฑุช ุงุณุชุฎุฏุงู ุฏูุฉ ุฃููุ ูุซู "(256ุ 256)"ุ ูุณูุธู ุงููููุฐุฌ ููุดุฆ ุตูุฑูุง ุจุญุฌู 1024x1024ุ ูููููุง ุณุชุดุจู ุตูุฑ ุงูุฏูุฉ ุงูููุฎูุถุฉ (ุฃููุงุท ุฃุจุณุทุ ุถุจุงุจูุฉ) ูู ูุฌููุนุฉ ุงูุจูุงูุงุช.

- ูุฃุชู ุชูููู "target_size" ูู ุถุจุท ุฏููู ูู SDXL ูุฏุนู ูุณุจ ุฃุจุนุงุฏ ุงูุตูุฑ ุงููุฎุชููุฉ. ุฃุซูุงุก ุงูุงุณุชุฏูุงูุ ุฅุฐุง ุงุณุชุฎุฏูุช ุงููููุฉ ุงูุงูุชุฑุงุถูุฉ "(1024ุ 1024)"ุ ูุณุชุญุตู ุนูู ุตูุฑุฉ ุชุดุจู ุชูููู ุงูุตูุฑ ุงููุฑุจุนุฉ ูู ูุฌููุนุฉ ุงูุจูุงูุงุช. ููุตู ุจุงุณุชุฎุฏุงู ููุณ ุงููููุฉ ูู "target_size" ู"original_size"ุ ูููู ูุง ุชุชุฑุฏุฏ ูู ุงูุชุฌุฑุจุฉ ุจุฎูุงุฑุงุช ุฃุฎุฑู!

ูุณูุญ ูู ๐ค Diffusers ุฃูุถูุง ุจุชุญุฏูุฏ ุงูุดุฑูุท ุงูุณูุจูุฉ ุญูู ุญุฌู ุงูุตูุฑุฉ ูุชูุฌูู ุงูุชูููุฏ ุจุนูุฏูุง ุนู ุฏูุงุช ุตูุฑุฉ ูุนููุฉ:
### ุชููุฆุฉ ุงููุญุงุตูู
ูุฏ ุชุจุฏู ุงูุตูุฑ ุงูุชู ุชู ุฅูุชุงุฌูุง ุจูุงุณุทุฉ ุงูููุงุฐุฌ ุงูุณุงุจูุฉ ูู Stable Diffusion ุฃุญูุงููุง ููุง ูู ูุงูุช ููุตูุฉ. ููุฑุฌุน ุฐูู ุฅูู ุฃู ุงูุตูุฑ ูุชู ูุตูุง ุจุงููุนู ุฃุซูุงุก ุงูุชุฏุฑูุจ ุจุญูุซ ูููู ูุฌููุน ุงูุตูุฑ ูู ุฏูุนุฉ ูุงุญุฏุฉ ููุณ ุงูุญุฌู. ูู ุฎูุงู ุงูุดุฑุท ุนูู ุฅุญุฏุงุซูุงุช ุงููุตุ ูุชุนูู SDXL ุฃู ุนุฏู ุงููุต - ุงูุฅุญุฏุงุซูุงุช `(0ุ0)` - ุบุงูุจูุง ูุง ูุฑุชุจุท ุจุงูููุงุถูุน ุงููุฑูุฒูุฉ ูุงููุฌูู ุงููุงููุฉ (ูุฐู ูู ุงููููุฉ ุงูุงูุชุฑุงุถูุฉ ูู ๐ค Diffusers). ููููู ุชุฌุฑุจุฉ ุฅุญุฏุงุซูุงุช ูุฎุชููุฉ ุฅุฐุง ููุช ุชุฑูุฏ ุฅูุดุงุก ุชููููุงุช ุบูุฑ ูุฑูุฒูุฉ!

<div class="flex justify-center">
<img src="https://huggingface.co/datasets/huggingface/documentation-images/resolve/main/diffusers/sdxl-cropped.png" alt="ุตูุฑุฉ ูููุดุฃุฉ ูุฑุงุฆุฏ ูุถุงุก ูู ุงูุบุงุจุฉุ ููุตูุตุฉ ููููุงู"/>
</div>

ููููู ุฃูุถูุง ุชุญุฏูุฏ ุฅุญุฏุงุซูุงุช ุงููุต ุงูุณูุจูุฉ ูุชูุฌูู ุงูุชูููุฏ ุจุนูุฏูุง ุนู ูุนููุงุช ุงููุต ูุนููุฉ:

<div class="flex justify-center">
<img src="https://huggingface.co/datasets/huggingface/documentation-images/resolve/main/diffusers/sdxl-double-prompt.png" alt="ุตูุฑุฉ ูููุดุฃุฉ ูุฑุงุฆุฏ ูุถุงุก ูู ุงูุบุงุจุฉ ุนูู ุบุฑุงุฑ ููุญุฉ ูุงู ุฌูุฎ"/>
</div>

ูุฏุนู ูุดูุฑุง ุงููุต ุงููุฒุฏูุฌุงู ุฃูุถูุง ุชุถููู ุงูุงูููุงุจ ุงููุตู ุงูุฐู ูุฌุจ ุชุญูููู ุจุดูู ูููุตู ููุง ูู ููุถุญ ูู ูุณู [SDXL textual inversion](textual_inversion_inference#stable-diffusion-xl) .


## ุงูุชุญุณููุงุช
SDXL ูู ูููุฐุฌ ูุจูุฑุ ููุฏ ุชุญุชุงุฌ ุฅูู ุชุญุณูู ุงูุฐุงูุฑุฉ ูุชุดุบููู ุนูู ุฃุฌูุฒุชู. ูููุง ููู ุจุนุถ ุงููุตุงุฆุญ ูุชูููุฑ ุงูุฐุงูุฑุฉ ูุชุณุฑูุน ุงูุงุณุชุฏูุงู.

1. ูู ุจุชูุฑูุบ ุงููููุฐุฌ ุฅูู ูุญุฏุฉ ุงููุนุงูุฌุฉ ุงููุฑูุฒูุฉ (CPU) ุจุงุณุชุฎุฏุงู [`~StableDiffusionXLPipeline.enable_model_cpu_offload`] ูุฃุฎุทุงุก ุนุฏู ููุงูุฉ ุงูุฐุงูุฑุฉ:

   ```diff
   - base.to("cuda")
   - refiner.to("cuda")
   + base.enable_model_cpu_offload()
   + refiner.enable_model_cpu_offload()
   ```

2. ุงุณุชุฎุฏู `torch.compile` ููุญุตูู ุนูู ุฒูุงุฏุฉ ูู ุงูุณุฑุนุฉ ุจูุณุจุฉ 20% (ุชุญุชุงุฌ ุฅูู `torch>=2.0`):

   ```diff
   + base.unet = torch.compile(base.unet, mode="reduce-overhead", fullgraph=True)
   + refiner.unet = torch.compile(refiner.unet, mode="reduce-overhead", fullgraph=True)
   ```

3. ูู ุจุชูููู [xFormers](../optimization/xformers) ูุชุดุบูู SDXL ุฅุฐุง ูุงู `torch<2.0`:

   ```diff
   + base.enable_xformers_memory_efficient_attention()
   + refiner.enable_xformers_memory_efficient_attention()
   ```

## ููุงุฑุฏ ุฃุฎุฑู
ุฅุฐุง ููุช ููุชููุง ุจุชุฌุฑุจุฉ ุฅุตุฏุงุฑ ุจุณูุท ูู [`UNet2DConditionModel`] ุงููุณุชุฎุฏู ูู SDXLุ ูุงูู ูุธุฑุฉ ุนูู ุชูููุฐ [minSDXL](https://github.com/cloneofsimo/minSDXL) ุงูููุชูุจ ุจู PyTorch ูุงููุชูุงูู ูุจุงุดุฑุฉ ูุน ๐ค Diffusers.